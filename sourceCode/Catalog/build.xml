<project name="Catalog" default="deploy" basedir=".">

    <!-- Define properties -->
    <property name="tibco.home" value="C:\tibco" />
    <property name="build.dir" value="${basedir}/CatalogModule/Deployables" />
    <property name="app.name" value="Catalog" />
	<property name="project.bw.application" value="${basedir}/CatalogModule" />
    <!-- Define targets -->
   
    <target name="export-deploy-conf">
        <exec executable="${tibco.home}\tra\5.7\bin\appManage.exe">
			<arg value="--propFile"/>
			<arg value="‪C:\tibco\tra\5.7\bin\AppManage.tra"/>
            <arg line="export -out ${build.dir}/Conf/CatalogConf.xml -ear ${build.dir}/EAR/catalog.ear" />
        </exec>
    </target>

    <target name="deploy" depends="export-deploy-conf">
        <exec executable="${tibco.home}\tra\5.7\bin\appManage.exe">
			<arg value="--propFile"/>
			<arg value="‪C:\tibco\tra\5.7\bin\AppManage.tra"/>
            <arg line="-deploy -app ${app.name} -ear ${build.dir}/EAR/catalog.ear -deployconfig ${build.dir}/Conf/CatalogConf.xml -user admin -pw admin -domain admin" />
        </exec>
    </target>

</project>
